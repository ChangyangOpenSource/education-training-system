import emotion from"../../../common/chat/emotionList";const emotionUrl={};emotion.forEach(t=>{emotionUrl[t.title]="https:"+t.url}),Component({properties:{content:{type:[String,Object],observer(t,e){t&&t!==e&&"string"==typeof t&&this.setData({contentArr:this.parseEmotion(t)})}}},data:{contentArr:[]},methods:{tapImage(){const t=this.data.content.uploadImgUrl;wx.previewImage({urls:[t],current:t})},parseEmotion(t){let e=t;if("string"!=typeof e||!e)return[];e=e.replace(/&lt;/g,"<").replace(/&gt;/g,">");const n=[];for(;-1!==e.indexOf("[");){const t=e.indexOf("["),o=e.indexOf("]",t+1);if(-1===o)break;n.push({type:"text",content:e.substring(0,t)});const r=e.substring(t+1,o),i={type:"em",content:r};emotionUrl[r]?i.url=emotionUrl[r]:(i.type="text",i.content=`[${r}]`),n.push(i),e=e.substring(o+1)}return n.push({type:"text",content:e}),n}}});